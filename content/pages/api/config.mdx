# Configuration

Complete guide to configuring your Muni documentation site.

## muniConfig Object

The `muniConfig` object in your docs page controls the site navigation and metadata.

### Basic Structure

```typescript
interface MuniConfig {
title: string;
navigation: NavigationItem[];
}

interface NavigationItem {
title: string;
slug: string;
items?: NavigationItem[];
}
```

### Example Configuration

```javascript
export const muniConfig = {
title: "My Documentation",
navigation: [
{
title: "Introduction",
slug: "index",
},
{
title: "Getting Started",
slug: "getting-started",
},
{
title: "Guide",
slug: "guide/index",
items: [
{ title: "Installation", slug: "guide/installation" },
{ title: "Components", slug: "guide/components" },
],
},
],
};
```

## Navigation Configuration

### Top-Level Items

Top-level navigation items appear in the main sidebar:

```javascript
{
title: "Getting Started", // Display name
slug: "getting-started", // URL slug (maps to content/pages/getting-started.mdx)
}
```

### Nested Items

Create hierarchical navigation with nested items:

```javascript
{
title: "API Reference",
slug: "api/index",
items: [
{ title: "Authentication", slug: "api/auth" },
{ title: "Users", slug: "api/users" },
{ title: "Posts", slug: "api/posts" },
],
}
```

### Slug Mapping

Slugs map directly to MDX files in your `content/pages/` directory:

- `"index"` → `content/pages/index.mdx` → `/docs`
- `"getting-started"` → `content/pages/getting-started.mdx` → `/docs/getting-started`
- `"guide/installation"` → `content/pages/guide/installation.mdx` → `/docs/guide/installation`

## Next.js Configuration

### MDX Setup

Configure MDX processing in `next.config.mjs`:

```javascript
import createMDX from '@next/mdx'
import remarkGfm from 'remark-gfm'
import remarkFrontmatter from 'remark-frontmatter'
import remarkMdxFrontmatter from 'remark-mdx-frontmatter'
import rehypeSlug from 'rehype-slug'
import rehypeAutolinkHeadings from 'rehype-autolink-headings'

const withMDX = createMDX({
options: {
remarkPlugins: [
remarkGfm,
remarkFrontmatter,
remarkMdxFrontmatter,
],
rehypePlugins: [
rehypeSlug,
rehypeAutolinkHeadings,
],
},
})

/*_ @type {import('next').NextConfig} _*/
const nextConfig = {
pageExtensions: ['js', 'jsx', 'md', 'mdx', 'ts', 'tsx'],
}

export default withMDX(nextConfig)
```

### Available Plugins

#### Remark Plugins (Markdown Processing)

- `remark-gfm`: GitHub Flavored Markdown support
- `remark-frontmatter`: YAML frontmatter parsing
- `remark-mdx-frontmatter`: Frontmatter integration with MDX

#### Rehype Plugins (HTML Processing)

- `rehype-slug`: Automatic heading IDs
- `rehype-autolink-headings`: Clickable heading links

## Static Generation

### generateStaticParams

Muni automatically generates static pages for all navigation items:

```typescript
export function generateStaticParams() {
const allSlugs = getAllSlugs(muniConfig.navigation);

return allSlugs.map(slug => ({
slug: slug === 'index' ? [] : slug.split('/'),
}));
}
```

### Dynamic Params

Set to `false` to only generate pages defined in navigation:

```typescript
export const dynamicParams = false;
```

## Metadata Generation

Automatic metadata generation for SEO:

```typescript
export async function generateMetadata({ params }): Promise<Metadata> {
const slug = params.slug?.join('/') || 'index';
const currentPage = findPage(muniConfig.navigation, slug);

return {
title: currentPage ? `${currentPage.title} - ${muniConfig.title}` : muniConfig.title,
description: `Documentation for ${currentPage?.title || muniConfig.title}`,
};
}
```

## Advanced Configuration

### Custom Components

Register custom components for use in MDX:

```typescript
// mdx-components.tsx
import type { MDXComponents } from 'mdx/types'
import { CustomAlert } from '@/components/custom-alert'

export function useMDXComponents(components: MDXComponents): MDXComponents {
  return {
    CustomAlert,
    ...components,
  }
}
```

### Styling

Customize the appearance with Tailwind CSS classes:

```css
/_ globals.css _/
.prose {
@apply max-w-4xl mx-auto;
}

.prose h1 {
@apply text-3xl font-bold mb-6;
}

.prose h2 {
@apply text-2xl font-semibold mb-4 mt-8;
}
```

## Environment Variables

No special environment variables are required for basic Muni functionality. All configuration is done through the `muniConfig` object and Next.js configuration files.

## Troubleshooting

### Common Configuration Issues

**Pages not generating?**

- Check that slugs in navigation match your MDX file paths
- Ensure `generateStaticParams` is properly configured
- Verify MDX files have correct extensions (`.mdx`)

**Navigation not working?**

- Check the navigation structure in `muniConfig`
- Ensure all referenced MDX files exist
- Verify slug formatting (no leading/trailing slashes)

**Styling issues?**

- Ensure Tailwind CSS is properly configured
- Check that prose classes are applied
- Verify custom CSS is imported correctly
  ```